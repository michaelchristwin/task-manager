import{d as ce,i as M,c as C,a as N,b as q,t as P,e as ie,f as V,g as oe,F as fe,s as ye,m as de,S as ee,u as ke,h as Me,M as xe,j as Ce}from"./index-B1r4hT97.js";import{I as he,a as ue,b as pe}from"./index-8v4PFf9q.js";function Oe(s){return he({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>'},s)}function me(s){return he({a:{viewBox:"0 0 16 16"},c:'<path fill="currentColor" d="M16 8a7.917 7.917 0 0 0-2.431-5.568A7.776 7.776 0 0 0 5.057.896c-.923.405-1.758.992-2.449 1.712S1.371 4.182 1.011 5.105a7.531 7.531 0 0 0 .115 5.742c.392.892.961 1.7 1.658 2.368S4.307 14.41 5.2 14.758a7.286 7.286 0 0 0 2.799.493 7.157 7.157 0 0 0 6.526-4.547 6.98 6.98 0 0 0 .415-1.622l.059.002a1 1 0 0 0 .996-1.083h.004zm-1.589 2.655c-.367.831-.898 1.584-1.55 2.206s-1.422 1.112-2.254 1.434a6.759 6.759 0 0 1-2.608.454 6.676 6.676 0 0 1-4.685-2.065 6.597 6.597 0 0 1-1.38-2.173 6.514 6.514 0 0 1 .116-4.976c.342-.77.836-1.468 1.441-2.044s1.321-1.029 2.092-1.326c.771-.298 1.596-.438 2.416-.416s1.629.202 2.368.532c.74.329 1.41.805 1.963 1.387s.988 1.27 1.272 2.011a6.02 6.02 0 0 1 .397 2.32h.004a1 1 0 0 0 .888 1.077 6.872 6.872 0 0 1-.481 1.578z"/>'},s)}function $e(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var se={exports:{}},Te=se.exports,ve;function ze(){return ve||(ve=1,function(s,S){(function(y,m){s.exports=m()})(Te,function(){var y=1e3,m=6e4,p=36e5,O="millisecond",$="second",_="minute",d="hour",Y="day",c="week",x="month",l="quarter",u="year",o="date",n="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(i){var t=["th","st","nd","rd"],e=i%100;return"["+i+(t[(e-20)%10]||t[e]||t[0])+"]"}},D=function(i,t,e){var a=String(i);return!a||a.length>=t?i:""+Array(t+1-a.length).join(e)+i},L={s:D,z:function(i){var t=-i.utcOffset(),e=Math.abs(t),a=Math.floor(e/60),r=e%60;return(t<=0?"+":"-")+D(a,2,"0")+":"+D(r,2,"0")},m:function i(t,e){if(t.date()<e.date())return-i(e,t);var a=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(a,x),f=e-r<0,h=t.clone().add(a+(f?-1:1),x);return+(-(a+(e-r)/(f?r-h:h-r))||0)},a:function(i){return i<0?Math.ceil(i)||0:Math.floor(i)},p:function(i){return{M:x,y:u,w:c,d:Y,D:o,h:d,m:_,s:$,ms:O,Q:l}[i]||String(i||"").toLowerCase().replace(/s$/,"")},u:function(i){return i===void 0}},w="en",E={};E[w]=T;var H="$isDayjsObject",A=function(i){return i instanceof J||!(!i||!i[H])},I=function i(t,e,a){var r;if(!t)return w;if(typeof t=="string"){var f=t.toLowerCase();E[f]&&(r=f),e&&(E[f]=e,r=f);var h=t.split("-");if(!r&&h.length>1)return i(h[0])}else{var z=t.name;E[z]=t,r=z}return!a&&r&&(w=r),r||!a&&w},b=function(i,t){if(A(i))return i.clone();var e=typeof t=="object"?t:{};return e.date=i,e.args=arguments,new J(e)},v=L;v.l=I,v.i=A,v.w=function(i,t){return b(i,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var J=function(){function i(e){this.$L=I(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[H]=!0}var t=i.prototype;return t.parse=function(e){this.$d=function(a){var r=a.date,f=a.utc;if(r===null)return new Date(NaN);if(v.u(r))return new Date;if(r instanceof Date)return new Date(r);if(typeof r=="string"&&!/Z$/i.test(r)){var h=r.match(g);if(h){var z=h[2]-1||0,j=(h[7]||"0").substring(0,3);return f?new Date(Date.UTC(h[1],z,h[3]||1,h[4]||0,h[5]||0,h[6]||0,j)):new Date(h[1],z,h[3]||1,h[4]||0,h[5]||0,h[6]||0,j)}}return new Date(r)}(e),this.init()},t.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},t.$utils=function(){return v},t.isValid=function(){return this.$d.toString()!==n},t.isSame=function(e,a){var r=b(e);return this.startOf(a)<=r&&r<=this.endOf(a)},t.isAfter=function(e,a){return b(e)<this.startOf(a)},t.isBefore=function(e,a){return this.endOf(a)<b(e)},t.$g=function(e,a,r){return v.u(e)?this[a]:this.set(r,e)},t.unix=function(){return Math.floor(this.valueOf()/1e3)},t.valueOf=function(){return this.$d.getTime()},t.startOf=function(e,a){var r=this,f=!!v.u(a)||a,h=v.p(e),z=function(G,Z){var K=v.w(r.$u?Date.UTC(r.$y,Z,G):new Date(r.$y,Z,G),r);return f?K:K.endOf(Y)},j=function(G,Z){return v.w(r.toDate()[G].apply(r.toDate("s"),(f?[0,0,0,0]:[23,59,59,999]).slice(Z)),r)},U=this.$W,F=this.$M,W=this.$D,X="set"+(this.$u?"UTC":"");switch(h){case u:return f?z(1,0):z(31,11);case x:return f?z(1,F):z(0,F+1);case c:var Q=this.$locale().weekStart||0,te=(U<Q?U+7:U)-Q;return z(f?W-te:W+(6-te),F);case Y:case o:return j(X+"Hours",0);case d:return j(X+"Minutes",1);case _:return j(X+"Seconds",2);case $:return j(X+"Milliseconds",3);default:return this.clone()}},t.endOf=function(e){return this.startOf(e,!1)},t.$set=function(e,a){var r,f=v.p(e),h="set"+(this.$u?"UTC":""),z=(r={},r[Y]=h+"Date",r[o]=h+"Date",r[x]=h+"Month",r[u]=h+"FullYear",r[d]=h+"Hours",r[_]=h+"Minutes",r[$]=h+"Seconds",r[O]=h+"Milliseconds",r)[f],j=f===Y?this.$D+(a-this.$W):a;if(f===x||f===u){var U=this.clone().set(o,1);U.$d[z](j),U.init(),this.$d=U.set(o,Math.min(this.$D,U.daysInMonth())).$d}else z&&this.$d[z](j);return this.init(),this},t.set=function(e,a){return this.clone().$set(e,a)},t.get=function(e){return this[v.p(e)]()},t.add=function(e,a){var r,f=this;e=Number(e);var h=v.p(a),z=function(F){var W=b(f);return v.w(W.date(W.date()+Math.round(F*e)),f)};if(h===x)return this.set(x,this.$M+e);if(h===u)return this.set(u,this.$y+e);if(h===Y)return z(1);if(h===c)return z(7);var j=(r={},r[_]=m,r[d]=p,r[$]=y,r)[h]||1,U=this.$d.getTime()+e*j;return v.w(U,this)},t.subtract=function(e,a){return this.add(-1*e,a)},t.format=function(e){var a=this,r=this.$locale();if(!this.isValid())return r.invalidDate||n;var f=e||"YYYY-MM-DDTHH:mm:ssZ",h=v.z(this),z=this.$H,j=this.$m,U=this.$M,F=r.weekdays,W=r.months,X=r.meridiem,Q=function(Z,K,ne,re){return Z&&(Z[K]||Z(a,f))||ne[K].slice(0,re)},te=function(Z){return v.s(z%12||12,Z,"0")},G=X||function(Z,K,ne){var re=Z<12?"AM":"PM";return ne?re.toLowerCase():re};return f.replace(k,function(Z,K){return K||function(ne){switch(ne){case"YY":return String(a.$y).slice(-2);case"YYYY":return v.s(a.$y,4,"0");case"M":return U+1;case"MM":return v.s(U+1,2,"0");case"MMM":return Q(r.monthsShort,U,W,3);case"MMMM":return Q(W,U);case"D":return a.$D;case"DD":return v.s(a.$D,2,"0");case"d":return String(a.$W);case"dd":return Q(r.weekdaysMin,a.$W,F,2);case"ddd":return Q(r.weekdaysShort,a.$W,F,3);case"dddd":return F[a.$W];case"H":return String(z);case"HH":return v.s(z,2,"0");case"h":return te(1);case"hh":return te(2);case"a":return G(z,j,!0);case"A":return G(z,j,!1);case"m":return String(j);case"mm":return v.s(j,2,"0");case"s":return String(a.$s);case"ss":return v.s(a.$s,2,"0");case"SSS":return v.s(a.$ms,3,"0");case"Z":return h}return null}(Z)||h.replace(":","")})},t.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},t.diff=function(e,a,r){var f,h=this,z=v.p(a),j=b(e),U=(j.utcOffset()-this.utcOffset())*m,F=this-j,W=function(){return v.m(h,j)};switch(z){case u:f=W()/12;break;case x:f=W();break;case l:f=W()/3;break;case c:f=(F-U)/6048e5;break;case Y:f=(F-U)/864e5;break;case d:f=F/p;break;case _:f=F/m;break;case $:f=F/y;break;default:f=F}return r?f:v.a(f)},t.daysInMonth=function(){return this.endOf(x).$D},t.$locale=function(){return E[this.$L]},t.locale=function(e,a){if(!e)return this.$L;var r=this.clone(),f=I(e,a,!0);return f&&(r.$L=f),r},t.clone=function(){return v.w(this.$d,this)},t.toDate=function(){return new Date(this.valueOf())},t.toJSON=function(){return this.isValid()?this.toISOString():null},t.toISOString=function(){return this.$d.toISOString()},t.toString=function(){return this.$d.toUTCString()},i}(),B=J.prototype;return b.prototype=B,[["$ms",O],["$s",$],["$m",_],["$H",d],["$W",Y],["$M",x],["$y",u],["$D",o]].forEach(function(i){B[i[1]]=function(t){return this.$g(t,i[0],i[1])}}),b.extend=function(i,t){return i.$i||(i(t,J,b),i.$i=!0),b},b.locale=I,b.isDayjs=A,b.unix=function(i){return b(1e3*i)},b.en=E[w],b.Ls=E,b.p={},b})}(se)),se.exports}var Ye=ze();const R=$e(Ye);var ae={exports:{}},Ee=ae.exports,ge;function Le(){return ge||(ge=1,function(s,S){(function(y,m){s.exports=m()})(Ee,function(){var y="minute",m=/[+-]\d\d(?::?\d\d)?/g,p=/([+-]|\d\d)/g;return function(O,$,_){var d=$.prototype;_.utc=function(n){var g={date:n,utc:!0,args:arguments};return new $(g)},d.utc=function(n){var g=_(this.toDate(),{locale:this.$L,utc:!0});return n?g.add(this.utcOffset(),y):g},d.local=function(){return _(this.toDate(),{locale:this.$L,utc:!1})};var Y=d.parse;d.parse=function(n){n.utc&&(this.$u=!0),this.$utils().u(n.$offset)||(this.$offset=n.$offset),Y.call(this,n)};var c=d.init;d.init=function(){if(this.$u){var n=this.$d;this.$y=n.getUTCFullYear(),this.$M=n.getUTCMonth(),this.$D=n.getUTCDate(),this.$W=n.getUTCDay(),this.$H=n.getUTCHours(),this.$m=n.getUTCMinutes(),this.$s=n.getUTCSeconds(),this.$ms=n.getUTCMilliseconds()}else c.call(this)};var x=d.utcOffset;d.utcOffset=function(n,g){var k=this.$utils().u;if(k(n))return this.$u?0:k(this.$offset)?x.call(this):this.$offset;if(typeof n=="string"&&(n=function(w){w===void 0&&(w="");var E=w.match(m);if(!E)return null;var H=(""+E[0]).match(p)||["-",0,0],A=H[0],I=60*+H[1]+ +H[2];return I===0?0:A==="+"?I:-I}(n),n===null))return this;var T=Math.abs(n)<=16?60*n:n,D=this;if(g)return D.$offset=T,D.$u=n===0,D;if(n!==0){var L=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(D=this.local().add(T+L,y)).$offset=T,D.$x.$localOffset=L}else D=this.utc();return D};var l=d.format;d.format=function(n){var g=n||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,g)},d.valueOf=function(){var n=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*n},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var u=d.toDate;d.toDate=function(n){return n==="s"&&this.$offset?_(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var o=d.diff;d.diff=function(n,g,k){if(n&&this.$u===n.$u)return o.call(this,n,g,k);var T=this.local(),D=_(n).local();return o.call(T,D,g,k)}}})}(ae)),ae.exports}var je=Le();const we=$e(je);var le={exports:{}},He=le.exports,be;function Ie(){return be||(be=1,function(s,S){(function(y,m){s.exports=m()})(He,function(){var y={year:0,month:1,day:2,hour:3,minute:4,second:5},m={};return function(p,O,$){var _,d=function(l,u,o){o===void 0&&(o={});var n=new Date(l),g=function(k,T){T===void 0&&(T={});var D=T.timeZoneName||"short",L=k+"|"+D,w=m[L];return w||(w=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:k,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:D}),m[L]=w),w}(u,o);return g.formatToParts(n)},Y=function(l,u){for(var o=d(l,u),n=[],g=0;g<o.length;g+=1){var k=o[g],T=k.type,D=k.value,L=y[T];L>=0&&(n[L]=parseInt(D,10))}var w=n[3],E=w===24?0:w,H=n[0]+"-"+n[1]+"-"+n[2]+" "+E+":"+n[4]+":"+n[5]+":000",A=+l;return($.utc(H).valueOf()-(A-=A%1e3))/6e4},c=O.prototype;c.tz=function(l,u){l===void 0&&(l=_);var o,n=this.utcOffset(),g=this.toDate(),k=g.toLocaleString("en-US",{timeZone:l}),T=Math.round((g-new Date(k))/1e3/60),D=15*-Math.round(g.getTimezoneOffset()/15)-T;if(!Number(D))o=this.utcOffset(0,u);else if(o=$(k,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(D,!0),u){var L=o.utcOffset();o=o.add(n-L,"minute")}return o.$x.$timezone=l,o},c.offsetName=function(l){var u=this.$x.$timezone||$.tz.guess(),o=d(this.valueOf(),u,{timeZoneName:l}).find(function(n){return n.type.toLowerCase()==="timezonename"});return o&&o.value};var x=c.startOf;c.startOf=function(l,u){if(!this.$x||!this.$x.$timezone)return x.call(this,l,u);var o=$(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return x.call(o,l,u).tz(this.$x.$timezone,!0)},$.tz=function(l,u,o){var n=o&&u,g=o||u||_,k=Y(+$(),g);if(typeof l!="string")return $(l).tz(g);var T=function(E,H,A){var I=E-60*H*1e3,b=Y(I,A);if(H===b)return[I,H];var v=Y(I-=60*(b-H)*1e3,A);return b===v?[I,b]:[E-60*Math.min(b,v)*1e3,Math.max(b,v)]}($.utc(l,n).valueOf(),k,g),D=T[0],L=T[1],w=$(D).utcOffset(L);return w.$x.$timezone=g,w},$.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},$.tz.setDefault=function(l){_=l}}})}(le)),le.exports}var Ae=Ie();const _e=$e(Ae);var Ue=P('<div><div class=p-2><div class="flex items-start"><div class="flex-shrink-0 pt-[2px] text-gray-600"></div><div class="ml-3 w-0 flex-1 pt-0.5"><p class="text-sm font-medium text-green-500">Task Added</p><p class="mt-1 text-sm text-gray-500">Refreshing tasks'),Fe=P('<div><div class=p-2><div class="flex items-start"><div class="flex-shrink-0 pt-[2px] text-gray-600"></div><div class="ml-3 w-0 flex-1 pt-0.5"><p class="text-sm font-medium text-yellow-500">Task Edited</p><p class="mt-1 text-sm text-gray-500">Refreshing tasks'),Ne=P('<div><div class=p-2><div class="flex items-start"><div class="flex-shrink-0 pt-[2px] text-gray-600"></div><div class="ml-3 w-0 flex-1 pt-0.5"><p class="text-sm font-medium text-red-500">Task Deleted</p><p class="mt-1 text-sm text-gray-500">Refreshing tasks');const Ze=()=>{ce.custom(s=>(()=>{var S=Ue(),y=S.firstChild,m=y.firstChild,p=m.firstChild;return M(p,C(ue,{size:20,class:"text-green-500"})),N(()=>q(S,`${s.visible?"animate-enter":"animate-leave"} fixed bottom-4 right-4 z-30 max-w-sm w-[290px] bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden`)),S})())},Pe=()=>{ce.custom(s=>(()=>{var S=Fe(),y=S.firstChild,m=y.firstChild,p=m.firstChild;return M(p,C(ue,{size:20,class:"text-yellow-500"})),N(()=>q(S,`${s.visible?"animate-enter":"animate-leave"} fixed bottom-4 right-4 z-30 max-w-sm w-[290px] bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden`)),S})())},Re=()=>{ce.custom(s=>(()=>{var S=Ne(),y=S.firstChild,m=y.firstChild,p=m.firstChild;return M(p,C(ue,{size:20,class:"text-red-500"})),N(()=>q(S,`${s.visible?"animate-enter":"animate-leave"} fixed bottom-4 right-4 z-30 max-w-sm w-[290px] bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden`)),S})())};function Se(s){return s.charAt(0).toUpperCase()+s.slice(1)}function De(s){for(let S in s)if(s.hasOwnProperty(S)&&!s[S])return!1;return!0}var We=P('<div aria-label=modal class="fixed top-[50%] z-20 right-[50%] translate-x-[50%] translate-y-[-50%] bg-neutral-800 lg:w-[600px] lg:h-[600px] md:w-[500px] md:h-[500px] w-[300px] h-[300px] rounded"><div class="w-full h-full relative flex justify-center "><button aria-label="close modal"class="rounded-full absolute top-[30px] right-[30px]"></button><form action=""class="w-[80%] space-y-4 mt-[80px]"><h2 class="text-[25px] font-bold text-primary">Edit Task</h2><fieldset class="space-y-1 w-full"><label for=title>Title</label><input type=text name=title id=title class="w-full outline-none h-[40px] rounded text-neutral-800 ps-2"></fieldset><fieldset class="space-y-1 w-full"><label for=description>Description</label><input type=text name=description id=description class="w-full outline-none h-[40px] rounded text-neutral-800 ps-2"></fieldset><div class="space-y-2 w-full"><p>Priority</p><div class="flex justify-start items-center w-full h-[40px] space-x-2"></div></div><fieldset class="space-y-1 w-full"><label for="due date">Due Date</label><input type=datetime-local name=due_date id=due_date class="w-full outline-none h-[40px] rounded text-neutral-800"></fieldset><button type=submit class="add-task-btn rounded-[8px] bg-primary text-neutral-800 mx-auto p-2 disabled:opacity-50 disabled:cursor-not-allowed"><span>Edit Task</span><span>Editing Task'),qe=P("<button type=button name=priority>");R.extend(we);R.extend(_e);const Je=s=>{const S=()=>["low","medium","high"],y=()=>s.setIsOpen(!1),m=R().format("YYYY-MM-DDTHH:mm"),[p,O]=V({title:s.title,description:s.description,due_date:R(s.due_date).format("YYYY-MM-DDTHH:mm"),priority:s.priority});oe(()=>{const c=x=>{x.key==="Escape"&&y()};document.addEventListener("keydown",c)});const[$,_]=V(!1),d=c=>{const x=c.target,l=x.name,u=x.value;O(o=>({...o,[l]:u}))},Y=async c=>{c.preventDefault(),_(!0);const x={title:p().title,description:p().description,due_date:R(p().due_date).format("YYYY-MM-DDTHH:mm:ss")+"."+(R(m).millisecond()*1e3).toString().padStart(6,"0")+R(m).format("Z"),priority:p().priority};try{await fetch(`http://localhost:8080/api/tasks/${s.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)}),s.setIsOpen(!1),Pe(),s.refetch()}catch(l){console.error("Failed to submit:",l)}finally{_(!1)}};return(()=>{var c=We(),x=c.firstChild,l=x.firstChild,u=l.nextSibling,o=u.firstChild,n=o.nextSibling,g=n.firstChild,k=g.nextSibling,T=n.nextSibling,D=T.firstChild,L=D.nextSibling,w=T.nextSibling,E=w.firstChild,H=E.nextSibling,A=w.nextSibling,I=A.firstChild,b=I.nextSibling,v=A.nextSibling,J=v.firstChild,B=J.nextSibling;return B.firstChild,l.$$click=y,M(l,C(pe,{size:25})),u.addEventListener("submit",Y),k.addEventListener("change",d),L.addEventListener("change",d),M(H,C(fe,{get each(){return S()},children:i=>(()=>{var t=qe();return t.$$click=()=>O(e=>({...e,priority:i})),M(t,()=>Se(i)),N(()=>q(t,`px-4 py-2 rounded-[10px] border border-white/10 ${p().priority===i?"ring-2 ring-blue-500":""}`)),t})()})),b.addEventListener("change",d),ye(b,"min",m),M(B,C(me,{class:"animate-spin mx-auto text-neutral-900",size:20}),null),N(i=>{var t=!De(p()),e=`add-task mx-auto ${$()?"invisible":"visible"}`,a=`spinner flex ${$()?"visible":"invisible"} items-center justify-center space-x-1`;return t!==i.e&&(v.disabled=i.e=t),e!==i.t&&q(J,i.t=e),a!==i.a&&q(B,i.a=a),i},{e:void 0,t:void 0,a:void 0}),N(()=>k.value=p().title),N(()=>L.value=p().description),N(()=>b.value=p().due_date),c})()};ie(["click"]);var Be=P('<div aria-label=modal class="fixed top-[50%] z-20 right-[50%] translate-x-[50%] translate-y-[-50%] bg-neutral-800 lg:w-[500px] w-[300px] h-[250px] rounded py-3 px-[25px]"><div class="w-full h-full relative flex justify-center p-3"><button aria-label="close modal"class="rounded-full absolute top-[5px] right-[10px]"></button><form class="mt-[20px] space-y-7 w-full"><h2 class="font-bold text-[21px] text-cente">Delete Task</h2><p class=text-[17px]>Are you sure you want to delete this task?</p><button type=submit class="add-task-btn rounded-[8px] bg-red-500 hover:opacity-[0.7] text-white mx-auto p-2 disabled:opacity-50 disabled:cursor-not-allowed"><span>Delete Task</span><span>Deleting Task');const Ve=s=>{const S=()=>s.setIsOpen(!1);oe(()=>{const O=$=>{$.key==="Escape"&&S()};document.addEventListener("keydown",O)});const[y,m]=V(!1),p=async O=>{O.preventDefault(),m(!0);try{await fetch(`http://localhost:8080/api/tasks/${s.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}),s.setIsOpen(!1),Re(),s.refetch()}catch($){console.error("Failed to submit:",$)}finally{m(!1)}};return(()=>{var O=Be(),$=O.firstChild,_=$.firstChild,d=_.nextSibling,Y=d.firstChild,c=Y.nextSibling,x=c.nextSibling,l=x.firstChild,u=l.nextSibling;return u.firstChild,_.$$click=S,M(_,C(pe,{size:25})),d.addEventListener("submit",p),M(u,C(me,{class:"animate-spin mx-auto text-neutral-900",size:20}),null),N(o=>{var n=`add-task mx-auto ${y()?"invisible":"visible"}`,g=`spinner flex ${y()?"visible":"invisible"} items-center justify-center space-x-1`;return n!==o.e&&q(l,o.e=n),g!==o.t&&q(u,o.t=g),o},{e:void 0,t:void 0}),O})()};ie(["click"]);var Ke=P('<div class="fixed top-0 left-0 w-full h-full bg-[rgb(0,0,0,0.5)] z-10 backdrop-blur">'),Qe=P('<div class="absolute right-[-130px] bottom-[-100px] mt-2 w-48 bg-white rounded-lg shadow-lg"><ul class="py-1 text-black"><li class="px-4 py-2 hover:bg-gray-100 cursor-pointer">Edit</li><li class="px-4 py-2 hover:bg-gray-100 cursor-pointer">Delete</li><li class="px-4 py-2 hover:bg-gray-100 cursor-pointer">Share'),Ge=P('<div class="flex w-[85%] mx-auto justify-around space-x-4 items-center p-5 h-[100px] relative"><input type=checkbox name=task id=task class="w-[20px] h-[20px] outline-none border border-gray-300 rounded-full"><div class="flex flex-col w-[200px]"><p class="text-[19px] text-primary font-[600]"></p><p class=text-[13px]></p></div><div class="flex items-center space-x-2 w-[120px] justify-center"><p class=text-[16px]></p></div><div class="w-[110px] flex justify-center items-center"><div>');const Xe=s=>{const S=new Date(s.due_date);let y,m;const[p,O]=V(!1),[$,_]=V(!1),[d,Y]=V(!1),c=S.toISOString().slice(0,10);oe(()=>{function l(u){y&&!y.contains(u.target)&&m&&!m.contains(u.target)&&O(!1)}document.addEventListener("mousedown",l)});const x={low:"border-green-500",medium:"border-yellow-500",high:"border-red-500"};return(()=>{var l=Ge(),u=l.firstChild,o=u.nextSibling,n=o.firstChild,g=n.nextSibling,k=o.nextSibling,T=k.firstChild,D=k.nextSibling,L=D.firstChild;return M(l,C(ee,{get when(){return $()},get children(){return C(Je,de({setIsOpen:_},s))}}),u),M(l,C(ee,{get when(){return d()},get children(){return C(Ve,de({setIsOpen:Y},s))}}),u),M(l,C(ee,{get when(){return $()||d()},get children(){return Ke()}}),u),M(n,()=>s.title),M(g,()=>s.description),M(k,C(ue,{size:20}),T),M(T,c),M(L,()=>s.priority),M(l,C(Oe,{ref(w){var E=m;typeof E=="function"?E(w):m=w},onClick:()=>O(w=>!w),size:25,"aria-label":"options button",class:"hover:cursor-pointer"}),null),M(l,C(ee,{get when(){return p()},get children(){var w=Qe(),E=w.firstChild,H=E.firstChild,A=H.nextSibling,I=y;return typeof I=="function"?ke(I,w):y=w,H.$$click=()=>_(b=>!b),A.$$click=()=>Y(b=>!b),w}}),null),N(()=>q(L,`w-fit px-[15px] h-[30px] text-[14px] rounded-full border flex justify-center items-center ${x[s.priority]}`)),l})()};ie(["click"]);var et=P('<div aria-label=modal class="fixed top-[50%] z-20 right-[50%] translate-x-[50%] translate-y-[-50%] bg-neutral-800 lg:w-[600px] lg:h-[600px] md:w-[500px] md:h-[500px] w-[300px] h-[300px] rounded"><div class="w-full h-full relative flex justify-center "><button aria-label="close modal"class="rounded-full absolute top-[30px] right-[30px]"></button><form action=""class="w-[80%] space-y-4 mt-[80px]"><h2 class="text-[25px] font-bold text-primary">Add Task</h2><fieldset class="space-y-1 w-full"><label for=title>Title</label><input type=text name=title id=title class="w-full outline-none h-[40px] rounded text-neutral-800 ps-2"></fieldset><fieldset class="space-y-1 w-full"><label for=description>Description</label><input type=text name=description id=description class="w-full outline-none h-[40px] rounded text-neutral-800 ps-2"></fieldset><div class="space-y-2 w-full"><p>Priority</p><div class="flex justify-start items-center w-full h-[40px] space-x-2"></div></div><fieldset class="space-y-1 w-full"><label for="due date">Due Date</label><input type=datetime-local name=due_date id=due_date class="w-full outline-none h-[40px] rounded text-neutral-800"></fieldset><button type=submit class="add-task-btn rounded-[8px] bg-primary text-neutral-800 mx-auto p-2 disabled:opacity-50 disabled:cursor-not-allowed"><span>Add Task</span><span>Adding Task'),tt=P("<button type=button name=priority>");R.extend(we);R.extend(_e);const nt=s=>{const S=()=>["low","medium","high"],y=()=>s.setIsOpen(!1),m=R().format("YYYY-MM-DDTHH:mm"),[p,O]=V({title:"",description:"",due_date:"",priority:"low"});oe(()=>{const c=x=>{x.key==="Escape"&&y()};document.addEventListener("keydown",c)});const[$,_]=V(!1),d=c=>{const x=c.target,l=x.name,u=x.value;O(o=>({...o,[l]:u}))},Y=async c=>{c.preventDefault(),_(!0);const x={title:p().title,description:p().description,due_date:R(p().due_date).format("YYYY-MM-DDTHH:mm:ss")+"."+(R(m).millisecond()*1e3).toString().padStart(6,"0")+R(m).format("Z"),priority:p().priority};try{await fetch("http://localhost:8080/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)}),s.setIsOpen(!1),Ze(),s.refetch()}catch(l){console.error("Failed to submit:",l)}finally{_(!1)}};return(()=>{var c=et(),x=c.firstChild,l=x.firstChild,u=l.nextSibling,o=u.firstChild,n=o.nextSibling,g=n.firstChild,k=g.nextSibling,T=n.nextSibling,D=T.firstChild,L=D.nextSibling,w=T.nextSibling,E=w.firstChild,H=E.nextSibling,A=w.nextSibling,I=A.firstChild,b=I.nextSibling,v=A.nextSibling,J=v.firstChild,B=J.nextSibling;return B.firstChild,l.$$click=y,M(l,C(pe,{size:25})),u.addEventListener("submit",Y),k.addEventListener("change",d),L.addEventListener("change",d),M(H,C(fe,{get each(){return S()},children:i=>(()=>{var t=tt();return t.$$click=()=>O(e=>({...e,priority:i})),M(t,()=>Se(i)),N(()=>q(t,`px-4 py-2 rounded-[10px] border border-white/10 ${p().priority===i?"ring-2 ring-blue-500":""}`)),t})()})),b.addEventListener("change",d),ye(b,"min",m),M(B,C(me,{class:"animate-spin mx-auto text-neutral-900",size:20}),null),N(i=>{var t=!De(p()),e=`add-task mx-auto ${$()?"invisible":"visible"}`,a=`spinner flex ${$()?"visible":"invisible"} items-center justify-center space-x-1`;return t!==i.e&&(v.disabled=i.e=t),e!==i.t&&q(J,i.t=e),a!==i.a&&q(B,i.a=a),i},{e:void 0,t:void 0,a:void 0}),N(()=>k.value=p().title),N(()=>L.value=p().description),N(()=>b.value=p().due_date),c})()};ie(["click"]);function it(s){return he({a:{viewBox:"0 0 512 512"},c:'<path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192Z"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 176 256 336"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M336 256 176 256"/>'},s)}var rt=P('<div class="fixed top-0 left-0 w-full h-full bg-[rgb(0,0,0,0.5)] z-10 backdrop-blur">'),st=P("<span>Error: "),at=P('<div class="w-full relative"><div class="flex lg:w-[900px] md:w-[600px] w-full mx-auto items-center justify-between mt-[20px] px-2"><h1 class="font-[700] text-[25px]">My Tasks</h1><button type=button class="bg-primary w-[150px] text-black rounded-md flex justify-center items-center h-[35px] space-x-[6px] font-[400]"><span>Add Task</span></button></div><div class="lg:w-[900px] md:w-[600px] w-full bg-[#292a2d] h-[600px] mx-auto mt-[70px] rounded-lg shadow-lg p-3 divide-y divide-white/5">');const lt=async()=>(await fetch("http://localhost:8080/api/tasks")).json(),dt=()=>{const[s,S]=V(!1),[y,{refetch:m}]=Me(lt);return console.log(y()),(()=>{var p=at(),O=p.firstChild,$=O.firstChild,_=$.nextSibling,d=_.firstChild,Y=O.nextSibling;return M(p,C(ee,{get when(){return s()},get children(){return C(nt,{setIsOpen:S,refetch:m})}}),O),M(p,C(ee,{get when(){return s()},get children(){return rt()}}),O),_.$$click=()=>S(c=>!c),M(_,C(it,{size:20}),d),M(Y,C(Ce,{get children(){return[C(xe,{get when(){return y.error},get children(){var c=st();return c.firstChild,M(c,()=>y.error,null),c}}),C(xe,{get when(){return y()},get children(){return C(fe,{get each(){return y()},children:c=>C(Xe,de(c,{refetch:m}))})}})]}})),p})()};ie(["click"]);export{dt as default};
